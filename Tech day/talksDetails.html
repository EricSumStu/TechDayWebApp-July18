<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery.min.js"></script>
          <link href="demoDetails.css" rel="stylesheet" type="text/css" />
 </head>
<body>
        <nav class="navbar">
                <span class="open-slide">
                    <a href="#" onclick="openSlideMenu()">
                        <svg width="30" height="30">
                            <path d="M0,5 30,5" stroke="#000"
                            stroke-width="5"/>
                            <path d="M0,14 30,14" stroke="#000"
                            stroke-width="5"/>
                            <path d="M0,23 30,23" stroke="#000"
                            stroke-width="5"/>
                        </svg>
                    </a>
                </span>
        
        <div id="side-menu" class="side-nav">

                <a href="#" class="btn-close"
                onclick="closeSlideMenu()">&times;</a>
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="Events.html">Events</a>
                </li>
                <li>
                    <a href="Map.html">Map</a>
                </li>
                <li>
                    <a href="eventsDetails.html">Entertainment</a>
                </li>
                <li>
                     <a href="fav.html">Favourites</a>
                </li>
                <li>
                    <a href="https://www.google.ie">Past Tech Days</a>
                </li>
                <li>
                    <a href="about.html">About</a>
                </li>
                </ul>
            </div>
        </nav>
        <main>
            <div>
                <a href="#">
                    <img src="./images/talks straight border.png">
                    </a>
            </div>
        </main>
        
<p id = "demo"></p>

<script>
    var txt
      $.getJSON("talks.json", function(json) {
      var obj = json;
       var table = "";
       var techDate = new Date("2018-10-4");
       var today = new Date();
       var techDateSmall = techDate.toDateString(0, 10);
       var todaySmall = today.toDateString(0, 10);
        console.log(techDateSmall, todaySmall);
       var now = new Date().getUTCHours() + 1 ;
       var techDay = false;
       if(todaySmall === techDateSmall){
               techDay = true
               console.log('equal')
       };

   
       for (var y = 0; y < (obj.talks).length;y++){
               if((obj.talks[y].Catergories === "Talk") && (techDay === false)){
                   var txt = "<table>"
                   txt += "<tr>";
                       txt += "<td>" + "Title:" + "</td>"
                       txt += "<td>" + (obj.talks[y].Title) + "</td>"
                   txt+= "</tr>" 
                   txt += "<tr>";   
                           txt += "<td>" + "Time:" + "</td>"
                       txt += "<td>" + (obj.talks[y].Time) + "</td>"
                   txt+= "</tr>"   
                   txt += "<tr>";   
                        txt += "<td>" + "Location:" + "</td>"  
                        txt += "<td>" + (obj.talks[y].Location) + "</td>"
                   txt+= "</tr>"    
                   txt += "<tr>"; 
                           txt += "<td>" + "Host:" + "</td>"
                        txt += "<td>" + (obj.talks[y].Host) + "</td>"
                   txt+= "</tr>"  
                   txt += "<tr>"; 
                           txt += "<td>" +  "Summary:" + "</td>"
                        txt += "<td>" + (obj.talks[y].Summary) + "</td>"
                    txt+= "</tr>"
                    txt += '<tr>';
                         txt += "<td>" + "" + "</td>"  
                         txt += '<td class="ONE">' + "<button id='favButton' class='Fav' value="+obj.talks[y].ID+" onclick=addFavourite(value)>Add to Favourites</button>" + "</td>"    
                    txt+= "</tr>"
                   txt += "</table><br>" 
                       table += txt;

            }else if((obj.talks[y].Catergories === "Talk") && (techDay === true)  && (obj.talks[y].Time >= now)){
               var txt = "<table>"
                   txt += "<tr>";
                       txt += "<td>" + "Title:" + "</td>"
                       txt += "<td>" + (obj.talks[y].Title) + "</td>"
                   txt+= "</tr>" 
                   txt += "<tr>";   
                           txt += "<td>" + "Time:" + "</td>"
                       txt += "<td>" + (obj.talks[y].Time) + "</td>"
                   txt+= "</tr>"   
                   txt += "<tr>";   
                        txt += "<td>" + "Location:" + "</td>"  
                        txt += "<td>" + (obj.talks[y].Location) + "</td>"
                   txt+= "</tr>"    
                   txt += "<tr>"; 
                           txt += "<td>" + "Host:" + "</td>"
                        txt += "<td>" + (obj.talks[y].Host) + "</td>"
                   txt+= "</tr>"  
                   txt += "<tr>"; 
                           txt += "<td>" +  "Summary:" + "</td>"
                        txt += "<td>" + (obj.talks[y].Summary) + "</td>"
                    txt+= "</tr>"
                    txt += '<tr>';
                         txt += "<td>" + "" + "</td>"  
                         txt += '<td class="ONE">' + "<button id='favButton' class='Fav' value="+obj.talks[y].ID+" onclick=addFavourite(value)>Add to Favourites</button>" + "</td>"    
                    txt+= "</tr>"
                   txt += "</table><br>" 
                       table += txt;
            }
           };

       

           document.getElementById("demo").innerHTML = table;

   
   });

function addFavourite(ID){
        console.log(ID)

    };
   
   function openSlideMenu() {
           document.getElementById('side-menu').style.width = '250px';
           document.getElementById('main').style.marginLeft = '250px';
       }
   
       function closeSlideMenu() {
           document.getElementById('side-menu').style.width = '0';
           document.getElementById('main').style.marginLeft = '0';
       }
   </script>   
</body>
</html>